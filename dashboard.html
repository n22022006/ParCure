<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ParCure - Patient Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Dashboard Page -->
    <div id="dashboardPage" class="page active">
        

        <div class="dashboard-container elderly-friendly">
            
            <!-- Header with ParCure Logo -->
            <div class="dashboard-header">
                <h1 class="parcure-logo">ParCure</h1>
                <p class="header-subtitle">Your Health Companion</p>
            </div>

            <!-- Exercise Section React Root -->
            <div id="exerciseSectionRoot" style="margin-top: 40px;"></div>

            <!-- Greeting Section -->
            <div class="greeting-section" style="position: relative; overflow: hidden; padding: 0;">
                <img id="greetingImage" src="images/u1.jpg" alt="Greeting Image" style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; z-index: 1; filter: blur(1px) brightness(0.95) drop-shadow(0 0 40px var(--glow-color)); box-shadow: 0 0 80px 20px var(--glow-color);">
                <div class="greeting-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(90deg, rgba(139,92,246,0.25) 0%, rgba(255,255,255,0.08) 100%); z-index: 2;"></div>
                <div class="greeting-wrapper" style="position: relative; z-index: 3; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start; height: 100%; padding: 40px 30px;">
                    <h2 id="greetingMessage" class="greeting-title" style="text-align: left; margin-left: 0; color: #fff; text-shadow: 0 2px 12px rgba(139,92,246,0.7);">Good Evening</h2>
                    <p id="greetingName" class="greeting-name" style="text-align: left; margin-left: 0; color: #fff; text-shadow: 0 2px 8px rgba(139,92,246,0.5);">John Doe</p>
                </div>
            </div>

            <!-- Today's Health Status Panel removed -->

            <!-- Saathi AI Message -->
            <div class="saathi-message">
                <div class="saathi-icon">ðŸ’¬</div>
                <div class="saathi-content">
                    <h3>Saathi Says</h3>
                    <p id="saathiMessage">Good evening John. You walked less today. Let's do 5 minutes of knee therapy.</p>
                </div>
            </div>

            <!-- Exercise Section -->
            <div id="exercise-section" class="exercise-app-container">
                <div class="exercise-summary-card">
                    <div class="summary-row"><span>Unlocked Days:</span><span id="unlockedDays">1</span></div>
                    <div class="summary-row"><span>Completed Days:</span><span id="completedDays">0</span></div>
                    <div class="summary-row"><span>Overall Rating:</span><span id="overallRating">0%</span></div>
                    <button class="exercise-reset-btn" id="exerciseResetBtn">Reset Progress</button>
                </div>
                <div class="exercise-day-grid" id="exerciseDayGrid"></div>
                <div id="exerciseDayDetailsPanel" class="exercise-day-details-panel" style="display:none;"></div>
                <div id="exerciseSessionView" class="exercise-session-view" style="display:none;"></div>
            </div>

            <!-- Today's Tasks, Weekly Progress, and Medication sections removed -->

            <!-- Action Blocks Grid -->
            <div class="action-blocks-grid">
                
                <!-- Block 1: Exercise -->
                <div class="action-block" id="exerciseBlock" style="background-image: url('images/p2.jpg');">
                    <div class="block-overlay"></div>
                    <div class="block-content">
                        <h2 class="block-title">Exercise</h2>
                        <p class="block-description">Start today's guided exercises</p>
                        <div class="block-arrow">â†’</div>
                    </div>
                </div>

                <!-- Block 2: Diet -->
                <div class="action-block" id="dietBlock" style="background-image: url('images/p3.jpg');">
                    <div class="block-overlay"></div>
                    <div class="block-content">
                        <h2 class="block-title">Diet</h2>
                        <p class="block-description">View meals and nutrition plan</p>
                        <div class="block-arrow">â†’</div>
                    </div>
                </div>

                <!-- Block 3: Saathi (AI Friend) -->
                <div class="action-block" id="saathiBlock" style="background-image: url('images/p4.jpg');">
                    <div class="block-overlay"></div>
                    <div class="block-content">
                        <h2 class="block-title">Saathi</h2>
                        <p class="block-description">Talk to your health companion</p>
                        <div class="block-arrow">â†’</div>
                    </div>
                </div>

                <!-- Block 4: Reports -->
                <div class="action-block" id="reportsBlock" style="background-image: url('images/p5.jpg');">
                    <div class="block-overlay"></div>
                    <div class="block-content">
                        <h2 class="block-title">Reports</h2>
                        <p class="block-description">View health and progress reports</p>
                        <div class="block-arrow">â†’</div>
                    </div>
                </div>

            </div>

            <!-- Footer Spacing -->
            <div style="height: 30px;"></div>

        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner hidden">
        <div class="spinner"></div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal hidden">
        <div class="modal-content">
            <h3>Message</h3>
            <p id="errorMessage"></p>
            <button class="btn btn-primary" onclick="closeErrorModal()">Close</button>
        </div>
    </div>

    <!-- Utility Functions -->
    <script>
        function showLoading(show) {
            const spinner = document.getElementById('loadingSpinner');
            if (show) {
                spinner.classList.remove('hidden');
            } else {
                spinner.classList.add('hidden');
            }
        }

        function showError(message) {
            const errorModal = document.getElementById('errorModal');
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.textContent = message;
            errorModal.classList.remove('hidden');
        }

        function closeErrorModal() {
            document.getElementById('errorModal').classList.add('hidden');
        }

        // Toggle task completion
        function toggleTask(element) {
            const checkbox = element.querySelector('.task-checkbox');
            checkbox.checked = !checkbox.checked;
            element.classList.toggle('completed');
        }

        // Emergency button handler
        function handleEmergency() {
            const confirmed = confirm('Call emergency help? This will alert your emergency contacts.');
            if (confirmed) {
                console.log('Emergency call initiated');
                showError('Emergency contacts notified. Help is on the way!');
            }
        }
    </script>

    <!-- Dashboard Scripts -->
        <script src="js/dashboard.js"></script>
        <!-- React and Exercise Section Scripts -->
        <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
        <!-- You must bundle exerciseApp.jsx to exerciseApp.js using a bundler like Babel/Webpack/Vite -->
        <script src="exerciseApp.js"></script>
        <script>
            // Mount ExerciseApp if available
            if (window.ExerciseApp) {
                ReactDOM.createRoot(document.getElementById('exerciseSectionRoot')).render(React.createElement(window.ExerciseApp));
            }
        </script>
</body>
</html>
